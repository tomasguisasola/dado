<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<title>Dado: Facilidades sobre a LuaSQL</title>
    <link rel="stylesheet" href="http://lunarmodules.github.io/luasql/doc.css" type="text/css"/>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>

<div id="container">
	
<div id="product">
	<div id="product_logo">
		<img width="128" alt="Dado logo" src="dado.png"/>
	</div>
	<div id="product_name"><big><b>Dado</b></big></div>
	<div id="product_description">Facilidades sobre a LuaSQL</div>
    <div id="product_languages" align="right"><small>
        <a href="../index.html">english</a>&middot;português
    </small></div>
</div> <!-- id="product" -->

<div id="main">
	
<div id="navigation">
<h1>Dado</h1>
	<ul>
		<li><strong>Home</strong>
			<ul>
				<li><a href="index.html#overview">Visão Geral</a></li>
				<li><a href="index.html#status">Status</a></li>
				<li><a href="index.html#download">Download</a></li>
				<li><a href="index.html#install">Instalação</a></li>
		        <li><a href="index.html#manual">Manual</a></li>
				<li><a href="index.html#history">Historico</a></li>
				<li><a href="index.html#credits">Créditos</a></li>
				<li><a href="index.html#contact">Fale conosco</a></li>
			</ul>
		</li>
		<li><a href="license.html">Licença</a></li>
		<li><a href="examples.html">Exemplos</a></li>
	</ul>
</div> <!-- id="navigation" -->

<div id="content">


<h2><a name="overview"></a>Visão Geral</h2>

<p>
Dado é um pacote que oferece facilidades implementadas sobre objetos de conexão da LuaSQL.
Seus principais objetivos são:
</p>
<ul>
  <li>mensagens de erro melhores,
  <li>iteradores para acessar os resultados, e
  <li>mais homogeneidade em algumas operações comumente usadas sobre bancos de dados.
</ul>

<p>
Dado é software livre e usa a mesma <a href="license.html">licença</a> de Lua.
</p>

<h4>Abstrações sobre objetos</h4>
<p>
O pacote também contém um módulo de objetos que provê um meio de definir classes e objetos que representem linhas de tabelas do banco com um esforço mínimo.
Dado não impõe um sistema de classes, ele sugere apenas um esquema com herança simples:
</p>
<ul>
  <li>objetos com recuperação automática de atributos do banco de dados
  <li>métodos diferentes para a criação de objetos e para a definição de classes
</ul>
<p>
O mecanismo default usa <em>classes</em> para representar <em>tabelas do banco</em> e <em>instâncias</em> para representar <em>linhas de tabelas do banco</em>.
Entretanto é fácil definir atributos que não sejam relacionados com colunas de tabelas, ou classes que não sejam relacionadas com tabelas únicas.
</p>


<h2><a name="status"></a>Status</h2>

<p>
A versão atual é a 2.2.0.
Ela foi desenvolvida para rodar em todas as versões de Lua 5.X.
</p>


<h2><a name="download"></a>Download</h2>

<p>
Dado pode ser obtida de sua
<a href="http://www.ccpa.puc-rio.br/software/dado/download">própria página</a>.
</p>


<h2><a name="install"></a>Instalação</a></h2>

<p>
Dado é um conjunto de módulos para Lua 5 (compatível com todas as versões de Lua 5.X) que deve ser instalado no seu LUA_PATH, respeitando a estrutura de diretórios da pasta <code>src</code> do arquivo de distribuição.
</p>
<p>
LuaRocks pode ser usado para instalar o pacote, já que este é também distribuído como um <a href="http://luarocks.org/repositories/rocks/#dado">rock</a>.
</p>


<h2><a name="manual"></a>Manual</h2>
<p>
Não há um manual de referência.
A <a href="../luadoc/index.html">API</a> é documentada através do LDoc e só está disponível em inglês.
</p>


<h2><a name="history"></a>Histórico</h2>

<ul>
    <li>[16/abr/2024] Lançamento da versão 2.2.0<br/>
        Acréscimo das funções <a href="luadoc/modules/dado.sql.html#alike"><code>dado.sql.alike</code></a> e <a href="luadoc/modules/dado.sql.html#in_quote"><code>dado.sql.in_quote</code></a></li>
    <li>[17/set/2022] Lançamento da versão 2.1.0<ul>
        <li>Melhoria na função <a href="luadoc/modules/dado.sql.html#AND"><code>dado.sql.AND</code></a> para permitir que uma tabela (array sem buracos) seja usada para passar uma série de valores e formar uma expressão-IN.</li>
        <li>Acréscimo de mecanismo de herança ao módulo <a href="luadoc/modules/table.extra.html"><code>table.extra</code></a>, de modo que ele possa ser carregado no lugar da biblioteca-padrão <code>table</code> original de Lua.</li>
    </ul></li>
    <li>[27/jul/2022] Lançamento da versão 2.0.0<br/>
        Acréscimo das funções <a href="../luadoc/modules/dado.html#docommit"><code>dado.docommit</code></a> e <a href="../luadoc/modules/dado.html#dorollback"><code>dado.dorollback</code></a></li>
    <li>[5/abr/2017] Lançamento da versão 1.8.3<ul>
        <li>Função <a href="../luadoc/modules/dado.sql.html#quote"><code>dado.sql.quote</code></a> passa a tratar números do mesmo jeito que trata booleanos: ambos passam a ser representados como constantes do banco, i.e. convertidos para strings e colocados entre parênteses duplos</li>
        <li>Versão testada com Lua sem coerção automática (contribuição de François Perrad)</li>
    </ul></li>
    <li>[4/abr/2017] Lançamento da versão 1.8.2<ul>
        <li>Reimplementação da função <a href="../luadoc/modules/table.extra.html#fullconcat"><code>table.extra.fullconcat</code></a>: ela assume que a tabela recebida tem chaves e valores apropriados (contribuição de François Perrad)</li>
        <li>Adaptação da implementação da função <a href="../luadoc/modules/table.extra.html#twostr"><code>table.extra.twostr</code></a> (contribuição de François Perrad)</li>
    </ul></li>
    <li>[16/mar/2017] Lançamento da versão 1.8.1<br/>
        Melhoria na função <a href="../luadoc/modules/table.extra.html#fullconcat"><code>table.extra.fullconcat</code></a>: força a conversão dos elementos da tabela em strings por default (contribuição de François Perrad)</li>
    <li>[22/feb/2017] Lançamento da versão 1.8<br/>
        Acréscimo da função <a href="../luadoc/modules/dado.sql.html#quotedconcat"><code>sql.quotedconcat</code></a></li>
    <li>[4/dez/2015] Lançamento da versão 1.7.1<br/>
        Pequenas correções nas variáveis _VERSION de cada módulo.</li>
    <li>[29/aug/2015] Lançamento da versão 1.7<ul>
        <li><a href="../luadoc/modules/dado.html#select"><code>select</code></a> agora aceita uma tabela como o valor do parâmetro <code>mode</code>, indicanto que <code>mode</code> deve ser <i>a</i> e o resultado da consulta deve ser armazenado na tabela dada</li>
        <li>Correção de bug em <a href="../luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>: valores <i>booleanos</i> passam a ser representados como outras constantes do banco, i.e. convertidos para strings e colocados entre parênteses duplos</li>
        <li>Correção de bug em <a href="../luadoc/modules/dado.sql.html#isinteger"><code>sql.isinteger</code></a>: valores fracionários eram aceitos incorretamente</li>
        <li>Correção de bug em <a href="../luadoc/modules/table.extra.html#twostr"><code>table.extra.twostr</code></a>: valores <i>booleanos</i> não estavam sendo corretamente serializados</li>
    </ul></li>
    <li>[31/mar/2015] Lançamento da versão 1.6<br/>
        <a href="../luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a> passa a aceitar <i>booleanos</i> como valores a serem repassados para o banco de dados; valores desse tipo não recebem aspas como as strings e passam a se comportar como os números</li>
    <li>[15/oct/2013] Lançamento da versão 1.5.2<br/>
        Correção de bug na função <a href="../luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>: ela não coloca aspas em strings formadas por parânteses duplos balanceados, como <code>((NULL))</code> ou <code>((select col from tab where cond))</code>; ela não coloca aspas em números (embora coloque aspas em strings contendo números)</li>
    <li>[4/oct/2013] Lançamento da versão 1.5.1<ul>
        <li><a href="../luadoc/modules/dado.sql.html#escape"><code>sql.escape</code></a> agora segue estritamente o padrão SQL: não tenta mais escapar qualquer coisa, apenas o delimitador de strings &apos;; além disso, não remove três caracteres especiais: TAB (<code>\t</code> ou <code>\9</code>), LINE FEED (<code>\n</code> ou <code>\10</code>) e CARRIAGE RETURN (<code>\r</code> ou <code>\13</code>)</li>
        <li><a href="../luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a> NÃO coloca aspas em números (embora coloque aspas em strings que contenham dígitos, como '12') NEM em strings formadas por parênteses balanceados dentro dos quais exista: apenas um identificador (sem dígitos); ou uma string contendo 'select' como substring</li>
        <li><a href="../luadoc/modules/dado.sql.html#insert"><code>sql.insert</code></a> passa a aceitar uma única string como argumento, contendo todo o comando SQL (exceto as duas primeira palavras: <code>insert into</code>)</li>
    </ul></li>
    <li>[23/jan/2013] Lançamento da versão 1.4.3<br/>
        Melhoria na função <a href="../luadoc/modules/dado.sql.html#escape"><code>sql.escape</code></a>: caracteres com códigos &lt; 32 passam a ser removidos, para evitar problemas na geração de SQL</li>
    <li>[13/nov/2012] Lançamento da versão 1.4.2<ul>
        <li>Reimplementação para tornar-se compatível com Lua 5.2.</li>
        <li>Melhoria na função <a href="../luadoc/modules/dado.sql.html#escape"><code>sql.escape</code></a>: terceiro parâmetro passa a ser um padrão de substituição</li>
    </ul></li>
    <li>[06/jun/2011] Lançamento da versão 1.4<br/>
        Limpeza de funçães não usadas: <code>arraytorecord</code>, <code>invert</code>, <code>copyto</code> e <code>cycle</code> do módulo <code>table.extra</code> e o módulo <code>string.extra</code> completamente</li>
    <li>[14/dez/2010] Lançamento da versão 1.3.1<br/>
        Correção de bug na função <a href="../luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>: não estava colocando aspas em strings que começam e terminam com parênteses que não casam</li>
    <li>[06/ago/2010] Lançamento da versão 1.3.0<ul>
        <li>Acréscimo da função de conveniência <a href="../luadoc/modules/dado.sql.html#isinteger"><code>sql.isinteger</code></a></li>
        <li>Acréscimo da função de depuração <a href="../luadoc/modules/table.extra.html#pfullconcat"><code>table.extra.pfullconcat</code></a></li>
		<li>Mudança na <a href="http://www.ccpa.puc-rio.br/software/dado">hospedagem</a></li>
    </ul></li>
    <li>[10/jun/2010] Lançamento da versão 1.2.0<ul>
        <li>Acréscimo da função de conveniência <a href="../luadoc/modules/dado.sql.html#AND"><code>sql.AND</code></a></li>
        <li>Acréscimo de documentação em português</li>
    </ul></li>
    <li>[05/out/2009] Lançamento da versão 1.1.0<ul>
        <li>Acréscimo da função <a href="../luadoc/modules/dado.html#wrap_connection"><code>wrap_connection</code></a></li>
        <li>Remoção da biblioteca <code>check</code></li>
        <li>Implantação via <a href="http://www.luarocks.org">LuaRocks</a></li>
    </ul></li>
    <li>[29/set/2009] Lançamento da versão 1.0.1<br/>
        Correção de bug na função <a href="../luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>
    </li>
    <li>[20/abr/2008] Lançamento da versão 1.0<br />
    </li>
</ul>


<h2><a name="credits"></a>Créditos</h2>

<p>
Dado foi projetada por Tomás Guisasola e Eduardo Quintão com muitas contribuições importantes de Pedro Maia, Roberto Ierusalimschy, André Carregal, Raphael Pithan, Maurício Bonfim e Carla Ourofino.
O logo foi criado por Carla Ourofino.
</p>
<p>
Dado foi desenvolvida para a <a href="http://www.puc-rio.br">PUC-Rio</a> que detém o copyright.
Foi implementada por Tomás Guisasola.
</p>


<h2><a name="contact"></a>Fale conosco</h2>

<p>
Para maiores informações:
<a href= "mailto:tomas-NO-SPAM-THANKS@puc-rio.br">fale conosco</a>.
Comentários são bem vindos!</p>

</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer">
    <img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->

</body>
</html> 
