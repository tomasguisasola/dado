<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<title>Dado: Database Facilities for LuaSQL</title>
    <link rel="stylesheet" href="http://lunarmodules.github.io/luasql/doc.css" type="text/css"/>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>

<div id="container">
	
<div id="product">
	<div id="product_logo">
		<img width="128" alt="Dado logo" src="dado.png"/>
	</div>
	<div id="product_name"><big><b>Dado</b></big></div>
	<div id="product_description">Database Facilities for LuaSQL</div>
    <div id="product_languages" align="right"><small>
        english&middot;<a href="br/index.html">português</a>
    </small></div>
</div> <!-- id="product" -->

<div id="main">
	
<div id="navigation">
<h1>Dado</h1>
	<ul>
		<li><strong>Home</strong>
			<ul>
				<li><a href="index.html#overview">Overview</a></li>
				<li><a href="index.html#status">Status</a></li>
				<li><a href="index.html#download">Download</a></li>
				<li><a href="index.html#install">Installation</a></li>
		        <li><a href="index.html#manual">Manual</a></li>
				<li><a href="index.html#history">History</a></li>
				<li><a href="index.html#credits">Credits</a></li>
				<li><a href="index.html#contact">Contact us</a></li>
			</ul>
		</li>
		<li><a href="license.html">License</a></li>
		<li><a href="examples.html">Examples</a></li>
	</ul>
</div> <!-- id="navigation" -->

<div id="content">


<h2><a name="overview"></a>Overview</h2>

<p>
Dado is a package that offers some facilities implemented over LuaSQL connection objects.
Its main goals are:
</p>
<ul>
  <li>better error messages,
  <li>iterators to access the result set and
  <li>more homogeneity in some commonly used database operations.
</ul>

<p>
Dado is free software and uses the same <a href="license.html">license</a> as Lua.
</p>

<h4>Object Abstraction</h4>
<p>
The package also contains an object module which provides a way to define classes and objects to represent table rows with a minimum effort.
It does not imposes a class system, it just suggests a simple one with simple inheritance:
</p>
<ul>
  <li>objects with automatic retrieval of database attributes
  <li>different methods for object creation and for class definition
</ul>
<p>
The default mechanism uses <em>classes</em> to represent <em>database tables</em> and <em>instances</em> to represent <em>database table rows</em>.
However it is easy to define attributes that are not related to database
columns, or classes that are not related to only one database table.
</p>


<h2><a name="status"></a>Status</h2>

<p>
Current version is 2.2.0.
It was developed to run in all Lua 5.X versions.
<!--It should run in Lua 5.3 also, although only the modules <code>dado.sql</code> and <code>table.extra</code> were tested (the other ones require LuaSQL which was not available for Lua 5.3 at the time of this release).-->
</p>


<h2><a name="download"></a>Download</h2>

<p>
Dado can be downloaded from its
<a href="http://www.ccpa.puc-rio.br/software/dado/download">own download page</a>.
</p>


<h2><a name="installation"></a>Installation</a></h2>

<p>
Dado is a Lua 5 (compatible with all Lua 5.X versions) set of modules which should be installed in your LUA_PATH, respecting the directory structure in the <code>src</code> folder of the distribution file.
</p>
<p>
LuaRocks can be used to install it since Dado is also distributed as a <a href="http://luarocks.org/repositories/rocks/#dado">rock</a>.
</p>


<h2><a name="manual"></a>Manual</h2>
<p>
There is no reference manual.
The <a href="luadoc/index.html">API</a> is documented with LDoc.
</p>


<h2><a name="history"></a>History</h2>

<ul>
    <li>[16/apr/2024] Version 2.2.0 released<br/>
        Adding functions <a href="luadoc/modules/dado.sql.html#alike"><code>dado.sql.alike</code></a> and <a href="luadoc/modules/dado.sql.html#in_quote"><code>dado.sql.in_quote</code></a></li>
    <li>[17/sep/2022] Version 2.1.0 released<ul>
        <li>Improvement in function <a href="luadoc/modules/dado.sql.html#AND"><code>dado.sql.AND</code></a> to allow that an array value associated with a key represents the values of a IN-expression.</li>
        <li>Adding inheritance mechanism to module <a href="luadoc/modules/table.extra.html"><code>table.extra</code></a>, in order to allow it to "replace" the original <code>table</code> library.</li>
    </ul></li>
    <li>[27/jul/2022] Version 2.0.0 released<br/>
        Adding functions <a href="luadoc/modules/dado.html#docommit"><code>dado.docommit</code></a> and <a href="luadoc/modules/dado.html#dorollback"><code>dado.dorollback</code></a></li>
    <li>[5/apr/2017] Version 1.8.3 released<ul>
        <li>Function <a href="luadoc/modules/dado.sql.html#quote"><code>dado.sql.quote</code></a> now treats numbers as booleans: both became strings formed by double balanced parentheses</li>
        <li>Tested with Lua without automatic coercion (thanks to François Perrad)</li>
    </ul></li>
    <li>[4/apr/2017] Version 1.8.2 released<ul>
        <li>Reverting the implementation of function <a href="luadoc/modules/table.extra.html#fullconcat"><code>table.extra.fullconcat</code></a>: it assumes the table has appropriate keys and values (thanks to François Perrad)</li>
        <li>Adapting the implementation of function <a href="luadoc/modules/table.extra.html#twostr"><code>table.extra.twostr</code></a> to produce appropriate tables to provide to <code>table.concat</code> (thanks to François Perrad)</li>
    </ul></li>
    <li>[16/mar/2017] Version 1.8.1 released<br/>
        Improving function <a href="luadoc/modules/table.extra.html#fullconcat"><code>table.extra.fullconcat</code></a>: it forces the conversion of the elements of the table to strings by default (thanks to François Perrad)</li>
    <li>[22/feb/2017] Version 1.8.0 released<br/>
        Adding function <a href="luadoc/modules/dado.sql.html#quotedconcat"><code>sql.quotedconcat</code></a></li>
    <li>[4/dec/2015] Version 1.7.1 released<br/>
        Corrections in the _VERSION variables of each module.</li>
    <li>[29/aug/2015] Version 1.7 released<ul>
        <li><a href="luadoc/modules/dado.html#select"><code>select</code></a> now accepts a table as the value of <code>mode</code> parameter, indicating the <i>mode</i> should be <i>a</i> and the result set should be stored inside this table</li>
        <li>Bug correction in <a href="luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>: boolean values are quoted as database constants, i.e. converted to strings between double parentheses</li>
        <li>Bug correction in <a href="luadoc/modules/dado.sql.html#isinteger"><code>sql.isinteger</code></a>: fractional values were incorrectly accepted</li>
        <li>Bug correction in <a href="luadoc/modules/table.extra.html#twostr"><code>table.extra.twostr</code></a>: boolean values were not correctly serialized</li>
    </ul></li>
    <li>[31/mar/2015] Version 1.6 released<br/>
        <a href="luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a> now accepts Lua booleans as values to the database; values of this type are not quoted, they are treated as numbers</li>
    <li>[15/oct/2013] Version 1.5.2 released<br/>
        Bug correction in <a href="luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>: it does not quote strings which are formed by double balanced parentheses, such as ((NULL)) or ((select col from tab where cond)); it does not quote Lua numbers (but it does quote strings with numbers inside it)</li>
    <li>[4/oct/2013] Version 1.5.1 released<ul>
        <li><a href="luadoc/modules/dado.sql.html#escape"><code>sql.escape</code></a> now follows strictly the SQL standard: it does not try to escape everything, only the string delimiter character &apos;; also it does not remove three special characters: TAB (<code>\t</code> or <code>\9</code>), LINE FEED (<code>\n</code> or <code>\10</code>) and CARRIAGE RETURN (<code>\r</code> or <code>\13</code>)</li>
        <li><a href="luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a> does NOT quote Lua numbers (but it does quote strings with numbers inside it, such as '12') NOR strings which are formed by a balanced parentheses into which there could be: only an identifier (without digits); or a string containing 'select' substring</li>
        <li><a href="luadoc/modules/dado.sql.html#insert"><code>sql.insert</code></a> also accepts a single string with the entire SQL statement (except the first two words: <code>insert into</code>)</li>
    </ul></li>
    <li>[23/jan/2013] Version 1.4.3 released<br/>
        Bug correction in function <a href="luadoc/modules/dado.sql.html#escape"><code>sql.escape</code></a>: removes characters with codes &lt; 32 to avoid problems in SQL code generation</li>
    <li>[13/nov/2012] Version 1.4.2 released<br/><ul>
        <li>Reimplementation to make it work with Lua 5.2</li>
        <li>Improvement in function <a href="luadoc/modules/dado.sql.html#escape"><code>sql.escape</code></a>: third parameter must be a substitution pattern</li>
    </ul></li>
    <li>[06/jun/2011] Version 1.4 released<br/>
        Clean up of unused functions: <code>arraytorecord</code>, <code>invert</code>, <code>copyto</code> and <code>cycle</code> from module <code>table.extra</code> and whole <code>string.extra</code> module</li>
    <li>[14/dec/2010] Version 1.3.1 released<br/>
        Bug correction in function <a href="luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>: it was not quoting strings that begin and end with parenthesis which don't match</li>
    <li>[06/aug/2010] Version 1.3.0 released<ul>
        <li>Adding convenience function <a href="luadoc/modules/dado.sql.html#isinteger"><code>sql.isinteger</code></a></li>
        <li>Adding debugging function <a href="luadoc/modules/table.extra.html#pfullconcat"><code>table.extra.pfullconcat</code></a></li>
        <li><a href="http://www.ccpa.puc-rio.br/software/dado">Hosting</a> change</li>
    </ul></li>
    <li>[10/jun/2010] Version 1.2.0 released<ul>
        <li>Adding convenience function <a href="luadoc/modules/dado.sql.html#AND"><code>sql.AND</code></a></li>
        <li>Adding <a href="br/index.html">portuguese documentation</a></li>
    </ul></li>
    <li>[05/oct/2009] Version 1.1.0 released<ul>
        <li>Adding function <a href="luadoc/modules/dado.html#wrap_connection"><code>wrap_connection</code></a></li>
        <li>Removing <code>check</code> library</li>
        <li>Deployment via <a href="http://www.luarocks.org">LuaRocks</a></li>
    </ul></li>
    <li>[29/sep/2009] Version 1.0.1 released<br/>
        Bug correction in function <a href="luadoc/modules/dado.sql.html#quote"><code>sql.quote</code></a>
    </li>
    <li>[20/apr/2008] Version 1.0 released<br />
    </li>
</ul>


<h2><a name="credits"></a>Credits</h2>

<p>
Dado was designed by Tomás Guisasola and Eduardo Quintão with many priceless contributions from Pedro Maia, Roberto Ierusalimschy, André Carregal, Raphael Pithan, Maurício Bonfim, Carla Ourofino and François Perrad.
The logo image was made by Carla Ourofino.
</p>
<p>
Dado was developed for <a href="http://www.puc-rio.br">PUC-Rio</a> which holds its copyright.
It was implemented by Tomás Guisasola.
</p>


<h2><a name="contact"></a>Contact us</h2>

<p>For more information please <a href=
"mailto:tomas-NO-SPAM-THANKS@puc-rio.br">contact us</a>.
Comments are welcome!</p>

</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer">
    <img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
	<p><small>$Id: index.html,v 1.40 2017/04/05 19:14:07 tomas Exp $</small></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->

</body>
</html> 
